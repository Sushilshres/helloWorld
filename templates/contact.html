{%  extends "base.html" %}
{%  block page_title %} Contact {% endblock %}
{%  block page_head %} Contact Page{% endblock %}

{%  block page_content %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<body>
    <div class = "container">

    <h1> Contact Me </h1>
<!-- Thank user after submitting form and show their responses -->
    {%  if form_submitted %}
        <div class = "col-12">
             <h2> Thank you for completing my form!</h2>
    </div>
    <div class = "col-md-6">
        <p> <strong> First Name:</strong> </p>
    </div>
    <div class = "col-md-6">
        <p>{{ request.form.get('first_name') }}</p>
    </div>
    <div class = "col-md-6">
        <p> <strong>Last Name:</strong> </p>
    </div>
    <div class = "col-md-6">
        <p>{{ request.form.get('last_name') }}</p>
    </div>
    <div class = "col-md-6">
        <p> <strong>Email:</strong> </p>
    </div>
    <div class = "col-md-6">
        <p>{{ request.form.get('email') }}</p>
    </div>
    <div class = "col-md-6">
        <p> <strong>Favorite Car:</strong> </p>
    </div>
    <div class = "col-md-6">
        <p>{{ request.form.get('car') }}</p>
    </div>
    <div class = "col-md-6">
        <p> <strong>Agree to Be Contacted: </strong> </p>
    </div>
    <div class = "col-md-6">
        <p>{{ 'Yes' if request.form.get('agree_check') else 'No' }}</p>
    </div>
    <p><a href = "{{ url_for('contact') }}">Complete form again</a></p>

    {%  else %}
<!-- Adding the form for users to submit -->
<form class ="row g-3" action = "{{  url_for('contact') }}" method = "post">
    <div class = "col-md-6">
        <label for = "first_name" class = "form-label">First Name</label>
        <input type = "text" class="form-control" id="first_name" name ="first_name">
    </div>
    <div class = "col-md-6">
        <label for = "last_name" class = "form-label">Last Name</label>
        <input type = "text" class="form-control" id="last_name" name ="last_name">
    </div>
    <div class = "col-md-6">
        <label for = "email" class = "form-label">Email</label>
        <input type = "text" class="form-control" id="email" name ="email">
    </div>
    <div class = "col-md-6">
        <label for = "car" class = "form-label">Favorite Car</label>
        <input type = "text" class="form-control" id="car" name ="car">
    </div>
    <div class="col-12">
         <div class ="form-check">
             <input class = "form-check-input" type = "checkbox" id="agree_check" name="agree_check">
             <label class = "form-check-label" for="agree_check">
                 I agree to be contacted
             </label>
         </div>
</div>
        <div class ="col-12">
           <button type ="submit" class="btn btn-primary" >Submit Form</button>
        </div>
        </form>
        {%  endif %}
    </form>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    </div>
</body>
{%  endblock %}
